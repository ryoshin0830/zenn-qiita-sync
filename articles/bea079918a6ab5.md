---
title: TypeScriptで型安全なAPIクライアントを作る方法
emoji: "💡"
type: tech
topics:
  - TypeScript
  - API
  - 型安全
published: true
---

# TypeScriptで型安全なAPIクライアントを作る方法

この記事では、TypeScriptを使って型安全なAPIクライアントを実装する方法を紹介します。

## なぜ型安全なAPIクライアントが重要なのか

APIクライアントを型安全にすることで、以下のメリットがあります：

1. **コンパイル時エラー検出**: 実行時エラーを事前に防げる
2. **開発体験の向上**: IDEの補完機能が効く
3. **リファクタリングの安全性**: 型の変更が自動的に検出される

## 実装例

```typescript
// APIレスポンスの型定義
interface User {
  id: number;
  name: string;
  email: string;
}

// 型安全なAPIクライアント
class ApiClient {
  private baseUrl: string;

  constructor(baseUrl: string) {
    this.baseUrl = baseUrl;
  }

  async get<T>(endpoint: string): Promise<T> {
    const response = await fetch(`${this.baseUrl}${endpoint}`);
    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }
    return response.json();
  }

  // ユーザー取得メソッド
  async getUser(id: number): Promise<User> {
    return this.get<User>(`/users/${id}`);
  }
}

// 使用例
const client = new ApiClient('https://api.example.com');
const user = await client.getUser(1);
console.log(user.name); // 型安全！
```

## まとめ

TypeScriptの型システムを活用することで、より安全で保守しやすいAPIクライアントを実装できます。